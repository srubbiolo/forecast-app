(this["webpackJsonpforecast-app"]=this["webpackJsonpforecast-app"]||[]).push([[0],{57:function(e,t,a){e.exports=a(87)},62:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(12),c=a.n(l),o=(a(62),a(28)),i=a.n(o),s=a(15),u=a(42),m=a(11),f=a(18),d=a(54),p=a(14);var E=function(e){var t=e.removeCityFromPrev,a=e.previoslySearched,n=e.name;return r.a.createElement("div",null,a&&r.a.createElement("span",{onClick:function(){return t()}}," \u2716"),r.a.createElement("span",null,n))},b="https://api.openweathermap.org/data/2.5/weather",O=function(){var e=Object(p.c)((function(e){return e.allCities})),t=Object(p.b)(),a=Object(n.useState)(!1),l=Object(f.a)(a,2),c=l[0],o=l[1],O=Object(n.useState)(!1),y=Object(f.a)(O,2),g=y[0],h=y[1],j=Object(n.useState)([]),C=Object(f.a)(j,2),v=C[0],S=C[1];Object(n.useEffect)((function(){S(e)}),[e]);var x=function(e){var a=e[0];void 0!==a&&(g?(t(function(e){var t=JSON.parse(localStorage.getItem("listOf5Cities")).filter((function(t){return t.id!==e.id}));return localStorage.setItem("listOf5Cities",JSON.stringify(t)),{type:"REMOVE_CITY",filteredArray:t}}(a)),h(!1)):t(function(e){var t=JSON.parse(localStorage.getItem("listOf5Cities"));return t.findIndex((function(t){return t.id===e.id}))<0&&(t.length>4?t.splice(0,1,e):t.unshift(e)),localStorage.setItem("listOf5Cities",JSON.stringify(t)),{type:"SET_CITY",arrayOfCities:t,payload:e}}(Object(m.a)(Object(m.a)({},a),{},{previoslySearched:!0}))))},I=function(){h(!0)};function w(){return(w=Object(u.a)(i.a.mark((function t(a){var n,r,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),S(e),t.next=4,fetch("".concat(b,"?q=").concat(a,"&appid=c0b02444709c5dc54be09a20371ca397"));case 4:return n=t.sent,t.next=7,n.json();case 7:"404"!==(r=t.sent).cod?(l=e.findIndex((function(e){return e.id===r.id}))<0?[].concat(Object(s.a)(e),[Object(m.a)({},r)]):Object(s.a)(e),S(l)):(l=Object(s.a)(e),S(l)),o(typeof r===Object);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r.a.createElement(d.a,{id:"async-input",isLoading:c,useCache:!1,labelKey:"name",minLength:0,onSearch:function(e){return w.apply(this,arguments)},options:v,placeholder:"Search for a city...",onChange:function(e){return x(e)},renderMenuItemChildren:function(e){return r.a.createElement(E,Object.assign({removeCityFromPrev:I},e))}})},y=a(89),g=a(90),h=a(91),j=a(33),C=function(e){var t=e.lat,a=e.lon,n=e.zoom,l={lat:t||-6.22758,lng:a||-35.0476};return r.a.createElement(j.b,{googleMapsApiKey:"AIzaSyD_ZoTCvqf-K0XnkGS19ngGeJKkZL4isAM"},r.a.createElement(j.a,{mapContainerStyle:{width:"400px",height:"300px",borderRadius:"5px",border:"2px solid grey"},center:l,zoom:n}))},v=a(92),S=function(e){var t=e.name,a=e.main,l=e.sys,c=Object(n.useState)([{id:0,labelShort:"\xbaC",label:"Celsius",convert:function(e){return e-273.15}},{id:1,labelShort:"\xbaF",label:"Farenheit",convert:function(e){return 1.8*e-459.67}},{id:2,labelShort:"K",label:"Kelvin",convert:function(e){return e}}]),o=Object(f.a)(c,1)[0],i=Object(n.useState)(0),s=Object(f.a)(i,2),u=s[0],m=s[1];return r.a.createElement(y.a,null,r.a.createElement(g.a,null,r.a.createElement(h.a,null,r.a.createElement("label",{style:{color:"grey"}},"Today in: "),r.a.createElement("span",{style:{fontSize:"22px"}}," ".concat(t,", ").concat(l.country))),r.a.createElement(h.a,null,r.a.createElement("label",{style:{color:"grey"}},"Show information in:   "),o.map((function(e){return r.a.createElement("span",{style:{color:"#007bff",cursor:"pointer"},key:e.id,onClick:function(){return m(e.id)}}," ",e.label)})))),r.a.createElement(g.a,{className:"justify-content-md-center mt-3"},r.a.createElement(h.a,{md:!0,lg:"6"},r.a.createElement(v.a,{variant:"flush",style:{borderRadius:"8px"}},r.a.createElement(v.a.Item,null,r.a.createElement(g.a,null,r.a.createElement(h.a,{Col:!0,xs:!0,lg:"6"},"Temperature:"),r.a.createElement(h.a,{Col:!0,xs:!0,lg:"4"},Math.trunc(o[u].convert(a.temp))," ",o[u].labelShort))),r.a.createElement(v.a.Item,null,r.a.createElement(g.a,null,r.a.createElement(h.a,{Col:!0,xs:!0,lg:"6"},"Max temperature:"),r.a.createElement(h.a,{Col:!0,xs:!0,lg:"4"},Math.trunc(o[u].convert(a.temp_max))," ",o[u].labelShort))),r.a.createElement(v.a.Item,null,r.a.createElement(g.a,null,r.a.createElement(h.a,{Col:!0,xs:!0,lg:"6"},"Min temperature:"),r.a.createElement(h.a,{Col:!0,xs:!0,lg:"4"},Math.trunc(o[u].convert(a.temp_min))," ",o[u].labelShort))),r.a.createElement(v.a.Item,null,r.a.createElement(g.a,null,r.a.createElement(h.a,{Col:!0,xs:!0,lg:"6"},"Pressure:"),r.a.createElement(h.a,{Col:!0,xs:!0,lg:"4"},a.pressure," hPa"))),r.a.createElement(v.a.Item,null,r.a.createElement(g.a,null,r.a.createElement(h.a,{Col:!0,xs:!0,lg:"6"},"Humidity:"),r.a.createElement(h.a,{Col:!0,xs:!0,lg:"4"},a.humidity," %")))))),r.a.createElement(g.a,null,r.a.createElement(h.a,null)))},x=function(){var e=Object(p.c)((function(e){return e.selectedCity})),t=Object(p.b)();return Object(n.useEffect)((function(){t(function(){if(null===localStorage.getItem("listOf5Cities")){localStorage.setItem("listOf5Cities",JSON.stringify([]))}return{type:"DATA_LOADED",payload:JSON.parse(localStorage.getItem("listOf5Cities"))}}())})),r.a.createElement(y.a,null,r.a.createElement(g.a,{className:"justify-content-md-center"},r.a.createElement(h.a,{md:!0,lg:"6"},r.a.createElement("h1",null,"Weather Challenge App"))),r.a.createElement(g.a,{className:"justify-content-md-center mb-5"},r.a.createElement(h.a,{md:!0,lg:"6"},r.a.createElement(O,null))),r.a.createElement(g.a,{className:"justify-content-md-center"},r.a.createElement(h.a,{xs:"12",lg:"8"},e.name&&r.a.createElement(S,e)),r.a.createElement(h.a,{xs:"12",lg:"4",className:"justify-content-md-center mt-4"},e.coord&&r.a.createElement(C,Object.assign({},e.coord,{zoom:11})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(85),a(86);var I=a(23),w={allCities:[],selectedCity:{}};var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;return"SET_CITY"===t.type?Object(m.a)(Object(m.a)({},e),{},{selectedCity:Object(m.a)({},t.payload),allCities:Object(s.a)(t.arrayOfCities)}):"REMOVE_CITY"===t.type?Object(m.a)(Object(m.a)({},e),{},{allCities:Object(s.a)(t.filteredArray)}):"DATA_LOADED"===t.type?Object(m.a)(Object(m.a)({},e),{},{allCities:Object(s.a)(t.payload)}):e},N=a(53),T=Object(I.c)(A,Object(I.a)(N.a));c.a.render(r.a.createElement(p.a,{store:T},r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[57,1,2]]]);
//# sourceMappingURL=main.7c725754.chunk.js.map